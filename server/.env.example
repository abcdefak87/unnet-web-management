# Database Configuration
# For development (SQLite)
DATABASE_URL="file:./prisma/dev.db"
# For production (PostgreSQL) - uncomment and configure:
# DATABASE_URL="postgresql://username:password@localhost:5432/isp_management"

# JWT Secret (REQUIRED - Generate strong secret for production)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="super-secret-jwt-key-2025-unnet-management"
JWT_REFRESH_SECRET="refresh-secret-key-2025-unnet-management"

# Server Configuration
PORT=3001
NODE_ENV=production

# CORS Configuration
FRONTEND_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000,http://172.17.2.3"

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH="./uploads"
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/jpg"

# Rate Limiting (Security)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_COMPLEXITY=false

# WhatsApp Bot Configuration (Using Baileys)
WHATSAPP_ENABLED="true"
WHATSAPP_ENHANCED="true"  # Use enhanced version with monitoring and queue
WHATSAPP_ADMIN_NUMBER="628123456789"  # Admin number for notifications (format: country code + number)
WHATSAPP_SESSION_NAME="isp-management-bot"
WHATSAPP_AUTO_REPLY="true"

# Enhanced WhatsApp Settings
WHATSAPP_QR_TIMEOUT=120000
WHATSAPP_MAX_RECONNECTS=5
WHATSAPP_RECONNECT_DELAY=5000

# Message Queue Configuration
WHATSAPP_QUEUE_ENABLED=true
WHATSAPP_QUEUE_SIZE=1000
WHATSAPP_MESSAGE_DELAY=1000
WHATSAPP_MAX_RETRIES=3

# Rate Limiting
WHATSAPP_RATE_LIMIT=30
WHATSAPP_RATE_LIMIT_HOUR=500
WHATSAPP_RATE_LIMIT_DAY=5000

# Session Backup
WHATSAPP_SESSION_BACKUP=true
WHATSAPP_BACKUP_INTERVAL=3600000

# API Security
WHATSAPP_API_RATE_WINDOW=60000
WHATSAPP_API_RATE_MAX=30
WHATSAPP_WEBHOOK_SECRET="your-webhook-secret-here"
WHATSAPP_IP_WHITELIST=""  # Comma separated IPs

# Monitoring
WHATSAPP_MONITORING=true
WHATSAPP_METRICS_INTERVAL=60000
WHATSAPP_HEALTH_CHECK=30000
WHATSAPP_ALERT_WEBHOOK=""  # Optional webhook for alerts

# Logging Configuration
LOG_LEVEL="info"
LOG_FILE="./logs/app.log"
